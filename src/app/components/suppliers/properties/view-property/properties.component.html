<div class="content-wrapper" *ngIf="currentUser">
  <section class="content-header">
    <ol class="breadcrumb">
      <li><a href="#">Workspace</a></li>
      <li class="active">Properties</li>
    </ol>
    <h1>
      <i class="fa">
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             viewBox="0 0 297.666 297.666" style="enable-background:new 0 0 297.666 297.666;" xml:space="preserve">
        <g>
        <path d="M276.783,119.911c1.685-1.725,2.427-4.017,2.246-6.245h0.09C270.389,49.563,215.295,0,148.834,0
                            C82.575,0,27.615,49.26,18.629,113.079c-0.014,0.099-0.032,0.197-0.042,0.296c-0.013,0.098-0.027,0.194-0.04,0.291h0.023
                            c-0.141,2.188,0.606,4.423,2.26,6.112l90.027,91.888H90.333c-13.808,0-25.333,11.193-25.333,25v36c0,13.807,11.525,25,25.333,25
                            h116c13.808,0,24.667-11.193,24.667-25v-36c0-13.807-10.859-25-24.667-25h-19.258L276.783,119.911z M165.945,210.39l31.14-104.235
                            c6.882-9.863,18.306-16.321,31.245-16.321c15.137,0,28.207,8.829,34.349,21.616L165.945,210.39z M116.982,107.045
                            c6.806-10.363,18.525-17.212,31.852-17.212c13.073,0,24.605,6.59,31.462,16.626l-31.384,105.052L116.982,107.045z M34.576,110.945
                            c6.241-12.513,19.158-21.112,34.094-21.112c13.01,0,24.49,6.527,31.359,16.481l31.734,103.827L34.576,110.945z M173,246.666v16h-17
                            v17h-16v-17h-17v-16h17v-17h16v17H173z" />



                        </g>
        <g></g>
        <g></g>
        <g></g>
        <g></g>
        <g></g>
        <g></g>
        <g></g>
        <g></g>
        <g></g>
        <g></g>
        <g></g>
        <g></g>
        <g></g>
        <g></g>
        <g></g>
                    </svg>
      </i>
      <div class="h1txt">Properties</div>
    </h1>
  </section>
  <section class="content">
    <div class="row">
      <div class="col-md-12">
        <ngx-spinner [bdColor]="spinnerConfig.bdColor" [size]="spinnerConfig.size" [color]="spinnerConfig.color"></ngx-spinner>
        <div class="col-md-12 no-padding">
          <div class="box box-primary">
            <div class="box-header ">
              <h3 class="box-title">Properties</h3>
              <div class="box-tools">
                <button type="button" class="btn btn-box-tool bg-blue pull-right" title="">
                  <i class="fa fa-refresh"></i>
                  <div class="ripple-container"></div>
                </button>


              </div>
            </div>
            <div class="box-body table-responsive ">
              <table class="table table-striped">
                <tbody>
                  <tr class="bg-white  box-success">
                    <th>Property Name</th>
                    <th>City</th>
                    <th>Country</th>
                    <th>Rating</th>
                    <th>Low Rate</th>
                    <th>High Rate</th>
                    <th>Property Type</th>
                  </tr>
                  <tr>
                    <td>
                      <div class="form-group form-group-sm search is-empty"><input class="form-control" type="text" placeholder="Company Name" (input)="onSearchChange('companyName', $event.target.value)" [(ngModel)]="searchObject.companyName" name="companyName"></div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>
                      <div class="mdl-selectfield">
                        <select class="browser-default"(change)= "onSearchChange('companyName', $event.target.value)" [(ngModel)]="searchObject.propertyType"  name="propertyType" required>
                            <option value=""    >Property Type</option>
                            <option *ngFor="let propertyType of propertyTypes" [value]="propertyType.name">{{propertyType.name}}</option>
                           
                        </select>
                    </div>
                    </td>
                  </tr>
                  <!--
                  <tr>
                    
                    <td ><div class="bluetxt">Comfort inn stephens city winchester south</div>
                    In stephen city (Front Royal Intrance)
                    </td>
                    <td>Lima</td>
                    <td>Peru</td>
                    <td><small class="label bg-green">3.5</small></td>
                    <td>$100.44</td>
                    <td>$105.44</td>
                    <td>Hotel</td>
                  
                  </tr>
                -->
                <ng-container *ngIf="propertyList && propertyList.length > 0">
                    <tr *ngFor="let property of propertyList;let i=index;">
                       <td ><div class="bluetxt">{{property.name}}</div>
                        {{property.landmark ? property.landmark : ''}}
                        </td>
                        <td>{{property.city}}</td>
                        <td>{{property.country}}</td>
                        <td><small class="label bg-green">{{property.rating}}</small></td>
                        <td>{{property.lowRate}}</td>
                        <td>{{property.hightRate}}</td>
                        <td>{{property.propertyType}}</td>
                       <td>
                          <a  > <i class="material-icons blueicon">edit</i></a>
                          <a (click)="removePropertyById(property._id,i)" > <i class="material-icons delete">delete</i></a>
                       </td>
                    </tr>
                 </ng-container>

                  
                </tbody>
              </table>
            </div>
            <div class="box-footer clearfix" *ngIf="pgList && pgList.pages && pgList.pages.length > 0">
                <div class="col-sm-4  no-padding">
                   <small class="pull-left showtxt">{{(pgList.pageCount * limit) + 1}} to {{((pgList.pageCount * limit) + propertyList.length)}} out of {{totalRecords}}</small>

                   <small class="pull-left showtxt">  Show</small>
                   <select class="form-control pull-left" (change)="setPageLimit($event.target.value)">
                         <option value="10" selected>10</option>
                         <option value="20">20</option>
                         <option value="50">50</option>
                         <option value="100">100</option>
                   </select>
                   <small class="pull-left showtxt"> rows per page</small>
                </div>
                <div class="col-sm-8 no-padding">
                   <ul  class="pagination">
                      <li  [ngClass]="{disabled:pgList.pageCount  == 0}">
                         <a (click)="!(pgList.pageCount  == 0) ? getPropertyList((0), limit): ''">First</a>
                      </li>
                      <li  [ngClass]="{disabled:pgList.pageCount === 0}">
                         <a (click)="!(pgList.pageCount === 0) ? getPropertyList((pgList.pageCount - 1), limit): ''">Previous</a>
                      </li>
                      <li *ngFor="let page of pgList.pages" [ngClass]="{active:(pgList.pageCount + 1)  === page}">
                      <a (click)="getPropertyList((page - 1), limit)">{{page}}</a>
                      </li>
                      <li [ngClass] = "{disabled:pgList.pageCount == pgList.totalPages}">
                         <a  (click)="!(pgList.pageCount == pgList.totalPages) ? getPropertyList((pgList.pageCount + 1), limit): ''">Next</a>
                      </li>
                      <li  [ngClass]="{disabled:pgList.pageCount === pgList.totalPages}">
                         <a (click)="!(pgList.pageCount === pgList.totalPages) ? getPropertyList((pgList.totalPages), limit): ''">Last</a>
                      </li>
                   </ul>
                </div>
             </div>
             
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
